# Roadmap Progress & Timeline Metrics

## 1. Progress Percentage

**Definition (simple):**

```
progress_% = (completed_tasks / total_tasks) * 100
```

**Definition (weighted by milestone):**

```
progress_% = (sum(completed_task_weight) / sum(total_task_weight)) * 100
```

Where `task_weight` can be:

- `1` for unweighted tasks, or
- a relative weight based on effort/size (e.g., story points), or
- inherited from a milestone weight.

## 2. “On Track” Logic

**Goal:** Compare actual progress vs. expected progress by date.

Let:

- `start_date` = roadmap (or milestone) start
- `target_date` = roadmap (or milestone) target
- `today` = current date
- `elapsed_ratio` = time elapsed as a fraction of schedule

```
elapsed_ratio = clamp((today - start_date) / (target_date - start_date), 0, 1)
expected_progress_% = elapsed_ratio * 100
```

Then determine status:

```
if actual_progress_% >= expected_progress_%:
    status = "on track"
else:
    status = "at risk"   # or "behind"
```

Optional tolerance buffer:

```
if actual_progress_% >= (expected_progress_% - tolerance_%):
    status = "on track"
```

## 3. Timeline Storage

You can store timelines at either level:

**A) Per-milestone target date (recommended):**

- Each milestone has:
  - `start_date`
  - `target_date`
  - optional `weight`
- Roadmap-level progress can be computed by aggregating milestones.

**B) Full roadmap dates:**

- Single roadmap `start_date` and `target_date`.
- Milestones inherit or compute expected progress from roadmap dates.

**Suggested default:** store **per-milestone** target dates for precision; compute roadmap totals via aggregation.

## 4. Shared Formula Reference (UI + AI)

Use these constants and formulas consistently:

```
progress_% = (completed / total) * 100
weighted_progress_% = (sum(completed_weight) / sum(total_weight)) * 100

elapsed_ratio = clamp((today - start_date) / (target_date - start_date), 0, 1)
expected_progress_% = elapsed_ratio * 100

on_track = actual_progress_% >= expected_progress_%
```

**UI wording example:**

- “Progress: 42% (expected 45% by today) — At Risk”

**AI messaging example:**

- “You’re at 42% completion vs. 45% expected for this date, so you’re slightly behind schedule.”
# Architecture Decisions

1. Decide front-end framework (e.g., Next.js + React).
2. Choose backend + database:

   - Option A: Next.js API routes + Supabase (Postgres + auth).
   - Option B: Node/Express + MongoDB + Vercel.
3. Decide hosting:

   - Vercel (great for Next.js + free tier).
   - Netlify (works with static + functions).
4. Confirm AI integration approach:

   - Hosted LLM API (OpenAI/Anthropic) for roadmap-specific insights.
